import{$ as c,A as E,B as P,C as L,Da as A,Ea as W,Fa as V,Ja as R,L as s,P as M,Q as O,U as b,W as g,aa as t,ba as n,ca as S,ga as F,ia as f,ka as v,ma as i,na as x,oa as T,qa as B,va as I,z as w}from"./chunk-AQ2HH6LZ.js";var G=()=>[0,1,2,3,4];function H(d,r){if(d&1){let o=F();t(0,"div",33),f("click",function(){w(o);let a=v();return E(a.showPaytable=!1)}),t(1,"div",34),f("click",function(a){return w(o),E(a.stopPropagation())}),t(2,"h2"),i(3,"PAYTABLE"),n(),t(4,"div",35)(5,"h3"),i(6,"Symbol Payouts"),n(),t(7,"div",36)(8,"div",37)(9,"span",38),i(10,"\u{1F3C6}"),n(),t(11,"span"),i(12,"3: 100x | 4: 500x | 5: 2000x"),n()(),t(13,"div",37)(14,"span",38),i(15,"\u{1F3C8}"),n(),t(16,"span"),i(17,"3: 50x | 4: 150x | 5: 500x"),n()(),t(18,"div",37)(19,"span",38),i(20,"\u2694\uFE0F"),n(),t(21,"span"),i(22,"3: 30x | 4: 100x | 5: 300x"),n()(),t(23,"div",37)(24,"span",38),i(25,"\u{1F6E1}\uFE0F"),n(),t(26,"span"),i(27,"3: 25x | 4: 80x | 5: 250x"),n()(),t(28,"div",37)(29,"span",38),i(30,"\u{1F451}"),n(),t(31,"span"),i(32,"3: 20x | 4: 60x | 5: 200x"),n()(),t(33,"div",37)(34,"span",38),i(35,"\u26A1"),n(),t(36,"span"),i(37,"3: 15x | 4: 40x | 5: 150x"),n()(),t(38,"div",37)(39,"span",38),i(40,"V"),n(),t(41,"span"),i(42,"3: 10x | 4: 30x | 5: 100x"),n()()()(),t(43,"div",35)(44,"h3"),i(45,"9 Win Lines"),n(),t(46,"p"),i(47,"Lines 1-3: Horizontal rows"),n(),t(48,"p"),i(49,"Lines 4-5: V shapes"),n(),t(50,"p"),i(51,"Lines 6-7: Diagonals"),n(),t(52,"p"),i(53,"Lines 8-9: W and M shapes"),n()(),t(54,"button",39),f("click",function(){w(o);let a=v();return E(a.showPaytable=!1)}),i(55,"Close"),n()()()}}function j(d,r){if(d&1&&(t(0,"div",47),i(1),n()),d&2){let o=r.$implicit;s(),B(" Line ",o.lineIndex+1,": ",o.count,"x ",o.symbol," ")}}function K(d,r){if(d&1&&(t(0,"div",45),b(1,j,2,3,"div",46),n()),d&2){let o=v(2);s(),c("ngForOf",o.currentWins)}}function J(d,r){if(d&1&&(t(0,"div",40)(1,"div",41)(2,"div",42),i(3),n(),t(4,"div",43),i(5),n(),b(6,K,2,1,"div",44),n()()),d&2){let o=v();s(3),x(o.winTitle),s(2),x(o.winAmount),s(),c("ngIf",o.currentWins.length>0)}}function $(d,r){if(d&1&&(t(0,"div",48),S(1,"div",49),n()),d&2){let o=r.index;s(),c("id","reel"+o)}}var N=class d{constructor(r){this.router=r}SYMBOLS=["\u2694\uFE0F","\u{1F6E1}\uFE0F","\u{1F451}","\u26A1","\u{1F3C8}","\u{1F3C6}","V"];REEL_LENGTH=30;SYMBOL_HEIGHT=100;VISIBLE_SYMBOLS=3;BET_LEVELS=[1,2,5,10,25,50,100];PAYTABLE={"\u{1F3C6}":{3:100,4:500,5:2e3},"\u{1F3C8}":{3:50,4:150,5:500},"\u2694\uFE0F":{3:30,4:100,5:300},"\u{1F6E1}\uFE0F":{3:25,4:80,5:250},"\u{1F451}":{3:20,4:60,5:200},"\u26A1":{3:15,4:40,5:150},V:{3:10,4:30,5:100}};PAYLINES=[[0,0,0,0,0],[1,1,1,1,1],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,2],[2,2,1,0,0],[0,2,0,2,0],[2,0,2,0,2]];balance=1e3;currentBet=1;lastWin=0;isSpinning=!1;betIndex=0;showWinOverlay=!1;showPaytable=!1;winTitle="";winAmount="";winningReels=new Set;winningLines=new Set;currentWins=[];reels=[];ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.initReels(),0)}togglePaytable(){this.showPaytable=!this.showPaytable}initReels(){for(let r=0;r<5;r++){let o={symbols:[],element:document.getElementById("reel"+r),position:0};if(o.element)for(let e=0;e<this.REEL_LENGTH;e++){let a=this.SYMBOLS[Math.floor(Math.random()*this.SYMBOLS.length)];o.symbols.push(a);let l=document.createElement("div");l.className="symbol",l.textContent=a,o.element.appendChild(l)}this.reels.push(o)}}spin(){let r=this.currentBet*9;if(this.isSpinning||this.balance<r)return;this.isSpinning=!0,this.balance-=r,this.lastWin=0,this.winningReels.clear(),this.winningLines.clear(),this.currentWins=[];let o=this.reels.map((e,a)=>new Promise(l=>{let p=2e3+a*200,h=Date.now(),_=e.position,m=5+a,u=(_+this.REEL_LENGTH*m+Math.floor(Math.random()*this.REEL_LENGTH))%this.REEL_LENGTH,y=()=>{let D=Date.now()-h,C=Math.min(D/p,1),z=1-Math.pow(1-C,3),Y=(this.REEL_LENGTH*m+(u-_))*z,k=(_+Y)%this.REEL_LENGTH;e.position=k,e.element&&(e.element.style.transform="translateY(-"+k*this.SYMBOL_HEIGHT+"px)"),C<1?requestAnimationFrame(y):(e.position=u,e.element&&(e.element.style.transform="translateY(-"+u*this.SYMBOL_HEIGHT+"px)"),l())};setTimeout(()=>y(),a*100)}));Promise.all(o).then(()=>{this.checkWin(),this.isSpinning=!1})}getVisibleSymbols(){let r=[];return this.reels.forEach(o=>{let e=[],a=Math.floor(o.position);for(let l=0;l<this.VISIBLE_SYMBOLS;l++){let p=(a+l)%this.REEL_LENGTH;e.push(o.symbols[p])}r.push(e)}),r}checkWin(){let r=this.getVisibleSymbols(),o=0,e=new Set,a=new Set,l=[];if(this.PAYLINES.forEach((p,h)=>{let _=p.map((u,y)=>r[y][u]),m=this.checkLine(_);m.amount>0&&(o+=m.amount,m.reels.forEach(u=>e.add(u)),a.add(h),l.push({lineIndex:h,symbol:m.symbol,count:m.count,amount:m.amount,positions:m.reels}))}),o>0){let p=o*this.currentBet;this.balance+=p,this.lastWin=p,this.winningReels=e,this.winningLines=a,this.currentWins=l,this.showWinAnimation(p,o)}}checkLine(r){let o={amount:0,reels:[],symbol:"",count:0};for(let e of this.SYMBOLS){let a=0;for(let l=0;l<r.length&&r[l]===e;l++)a++;if(a>=3&&this.PAYTABLE[e]&&this.PAYTABLE[e][a]){let l=this.PAYTABLE[e][a];l>o.amount&&(o={amount:l,reels:Array.from({length:a},(p,h)=>h),symbol:e,count:a})}}return o}showWinAnimation(r,o){o>=1e3?this.winTitle="MEGA JACKPOT!":o>=500?this.winTitle="JACKPOT!":o>=100?this.winTitle="BIG WIN!":o>=50?this.winTitle="GREAT WIN!":this.winTitle="WIN!",this.winAmount="$"+r,this.showWinOverlay=!0,setTimeout(()=>{this.showWinOverlay=!1,this.winningReels.clear(),this.winningLines.clear()},4e3)}increaseBet(){this.betIndex<this.BET_LEVELS.length-1&&(this.betIndex++,this.currentBet=this.BET_LEVELS[this.betIndex])}decreaseBet(){this.betIndex>0&&(this.betIndex--,this.currentBet=this.BET_LEVELS[this.betIndex])}maxBet(){this.betIndex=this.BET_LEVELS.length-1,this.currentBet=this.BET_LEVELS[this.betIndex]}goBack(){this.router.navigate(["/lobby"])}static \u0275fac=function(o){return new(o||d)(M(R))};static \u0275cmp=O({type:d,selectors:[["app-slots"]],decls:68,vars:31,consts:[[1,"slots-page"],[1,"slots-header"],[1,"btn-back",3,"click"],[1,"btn-paytable",3,"click"],["class","paytable-modal",3,"click",4,"ngIf"],[1,"slots-container"],["id","slotMachine"],["id","winOverlay",4,"ngIf"],["id","header"],["id","logo"],["id","reelsContainer"],["viewBox","0 0 700 300","preserveAspectRatio","none",1,"paylines-svg"],["x1","0","y1","50","x2","700","y2","50","stroke-width","3","stroke-dasharray","5,5"],["x1","0","y1","150","x2","700","y2","150","stroke-width","3","stroke-dasharray","5,5"],["x1","0","y1","250","x2","700","y2","250","stroke-width","3","stroke-dasharray","5,5"],["points","0,50 140,150 280,250 420,150 560,50 700,150","stroke-width","3","fill","none","stroke-dasharray","5,5"],["points","0,250 140,150 280,50 420,150 560,250 700,150","stroke-width","3","fill","none","stroke-dasharray","5,5"],["x1","0","y1","50","x2","700","y2","250","stroke-width","3","stroke-dasharray","5,5"],["x1","0","y1","250","x2","700","y2","50","stroke-width","3","stroke-dasharray","5,5"],["points","0,50 140,250 280,50 420,250 560,50 700,250","stroke-width","3","fill","none","stroke-dasharray","5,5"],["points","0,250 140,50 280,250 420,50 560,250 700,50","stroke-width","3","fill","none","stroke-dasharray","5,5"],["id","reels"],["class","reel",4,"ngFor","ngForOf"],["id","controlPanel"],["id","infoDisplay"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["id","controls"],[1,"control-group"],[3,"click","disabled"],[1,"bet-label"],["id","spinButton",3,"click","disabled"],[1,"paytable-modal",3,"click"],[1,"paytable-content",3,"click"],[1,"paytable-section"],[1,"payout-grid"],[1,"payout-row"],[1,"symbol"],[1,"btn-close",3,"click"],["id","winOverlay"],["id","winMessage"],[1,"win-title"],[1,"win-amount"],["class","win-details",4,"ngIf"],[1,"win-details"],["class","win-line",4,"ngFor","ngForOf"],[1,"win-line"],[1,"reel"],[1,"reel-inner",3,"id"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"header",1)(2,"button",2),f("click",function(){return e.goBack()}),i(3,"Back to Lobby"),n(),t(4,"h1"),i(5,"Vikings Slots"),n(),t(6,"button",3),f("click",function(){return e.togglePaytable()}),i(7," Paytable "),n()(),b(8,H,56,0,"div",4),t(9,"div",5)(10,"div",6),b(11,J,7,3,"div",7),t(12,"div",8)(13,"div",9),i(14,"MINNESOTA VIKINGS SLOTS"),n()(),t(15,"div",10),P(),t(16,"svg",11),S(17,"line",12)(18,"line",13)(19,"line",14)(20,"polyline",15)(21,"polyline",16)(22,"line",17)(23,"line",18)(24,"polyline",19)(25,"polyline",20),n(),L(),t(26,"div",21),b(27,$,2,1,"div",22),n()(),t(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26),i(32,"Balance"),n(),t(33,"div",27),i(34),n()(),t(35,"div",25)(36,"div",26),i(37,"Lines"),n(),t(38,"div",27),i(39,"9"),n()(),t(40,"div",25)(41,"div",26),i(42,"Bet/Line"),n(),t(43,"div",27),i(44),n()(),t(45,"div",25)(46,"div",26),i(47,"Total Bet"),n(),t(48,"div",27),i(49),n()(),t(50,"div",25)(51,"div",26),i(52,"Win"),n(),t(53,"div",27),i(54),n()()(),t(55,"div",28)(56,"div",29)(57,"button",30),f("click",function(){return e.decreaseBet()}),i(58,"-"),n(),t(59,"span",31),i(60,"BET"),n(),t(61,"button",30),f("click",function(){return e.increaseBet()}),i(62,"+"),n()(),t(63,"button",32),f("click",function(){return e.spin()}),i(64),n(),t(65,"div",29)(66,"button",30),f("click",function(){return e.maxBet()}),i(67,"MAX BET"),n()()()()()()()),o&2&&(s(8),c("ngIf",e.showPaytable),s(3),c("ngIf",e.showWinOverlay),s(6),g("stroke",(e.winningLines.has(0),"#FFC62F"))("opacity",e.winningLines.has(0)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(1),"#FFC62F"))("opacity",e.winningLines.has(1)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(2),"#FFC62F"))("opacity",e.winningLines.has(2)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(3),"#9C27B0"))("opacity",e.winningLines.has(3)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(4),"#00BCD4"))("opacity",e.winningLines.has(4)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(5),"#4CAF50"))("opacity",e.winningLines.has(5)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(6),"#FF5722"))("opacity",e.winningLines.has(6)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(7),"#E91E63"))("opacity",e.winningLines.has(7)?"1":"0.2"),s(),g("stroke",(e.winningLines.has(8),"#FFC107"))("opacity",e.winningLines.has(8)?"1":"0.2"),s(2),c("ngForOf",I(30,G)),s(7),x(e.balance),s(10),x(e.currentBet),s(5),x(e.currentBet*9),s(5),x(e.lastWin),s(3),c("disabled",e.isSpinning),s(4),c("disabled",e.isSpinning),s(2),c("disabled",e.isSpinning||e.balance<e.currentBet*9),s(),T(" ",e.isSpinning?"SPINNING...":"SPIN"," "),s(2),c("disabled",e.isSpinning))},dependencies:[V,A,W],styles:[".slots-page[_ngcontent-%COMP%]{min-height:100vh;background:#0a0a0a;padding:15px}.slots-header[_ngcontent-%COMP%]{max-width:700px;margin:0 auto 15px;display:flex;align-items:center;gap:15px;justify-content:space-between}.btn-back[_ngcontent-%COMP%], .btn-paytable[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:8px 16px;font-size:14px;font-weight:700;border-radius:6px;cursor:pointer;transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover, .btn-paytable[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 15px #ffc62f80;transform:translateY(-2px)}.slots-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ffc62f;font-size:20px;margin:0;flex:1;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.paytable-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:2000}.paytable-content[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1a0033,#0d001a);border:3px solid #FFC62F;border-radius:15px;padding:30px;max-width:600px;max-height:80vh;overflow-y:auto;color:#fff}.paytable-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffc62f;text-align:center;margin-bottom:20px;font-size:28px}.paytable-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffc62f;margin:20px 0 10px;font-size:20px}.paytable-section[_ngcontent-%COMP%]{margin-bottom:20px}.payout-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.payout-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:10px;background:#4f26834d;border-radius:8px}.payout-row[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{font-size:32px;width:50px;text-align:center}.btn-close[_ngcontent-%COMP%]{width:100%;margin-top:20px;background:linear-gradient(180deg,#ffc62f,#e6a800);color:#000;border:none;padding:12px;font-size:16px;font-weight:700;border-radius:8px;cursor:pointer}.slots-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}#slotMachine[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1a0033,#0d001a);border:3px solid #4F2683;border-radius:15px;box-shadow:0 0 40px #4f268380;overflow:hidden;position:relative}#header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4f2683,#79228b,#4f2683);padding:12px;text-align:center;border-bottom:3px solid #FFC62F}#logo[_ngcontent-%COMP%]{color:#ffc62f;font-size:20px;font-weight:700;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.8)}#reelsContainer[_ngcontent-%COMP%]{background:#000;padding:20px 10px;position:relative;height:340px}.paylines-svg[_ngcontent-%COMP%]{position:absolute;inset:20px 10px;pointer-events:none;z-index:5}#reels[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;position:relative;z-index:10}.reel[_ngcontent-%COMP%]{width:100px;height:300px;background:linear-gradient(180deg,#1a1a1a,#0d0d0d);border:2px solid #333;border-radius:8px;position:relative;overflow:hidden;box-shadow:inset 0 0 20px #000c}.reel-inner[_ngcontent-%COMP%]{position:absolute;width:100%;transition:transform .05s linear}[_nghost-%COMP%]     .symbol{height:100px;display:flex;align-items:center;justify-content:center;font-size:60px;background:linear-gradient(180deg,#2a2a2a,#1a1a1a);border-bottom:1px solid #333}#controlPanel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1a0033,#0d001a);padding:15px;border-top:2px solid #4F2683}#infoDisplay[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:15px;padding:12px;background:#0006;border-radius:8px;gap:5px}.info-item[_ngcontent-%COMP%]{text-align:center;flex:1}.info-label[_ngcontent-%COMP%]{color:#999;font-size:10px;text-transform:uppercase;letter-spacing:1px;margin-bottom:3px}.info-value[_ngcontent-%COMP%]{color:#ffc62f;font-size:16px;font-weight:700}#controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;flex-wrap:wrap}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.bet-label[_ngcontent-%COMP%]{color:#999;font-size:12px;font-weight:700}button[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4f2683,#3a1c61);color:#ffc62f;border:2px solid #FFC62F;padding:8px 16px;font-size:14px;font-weight:700;border-radius:6px;cursor:pointer;transition:all .2s;min-width:40px}button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(180deg,#5a2d94,#4f2683);box-shadow:0 0 15px #ffc62f80;transform:translateY(-2px)}button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}#spinButton[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffc62f,#e6a800);color:#000;font-size:18px;padding:12px 35px;border:3px solid #fff;box-shadow:0 5px 20px #ffc62f66}#spinButton[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(180deg,#ffd454,#ffc62f);box-shadow:0 5px 30px #ffc62fb3}#winOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;z-index:1000}#winMessage[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_scaleIn .5s cubic-bezier(.68,-.55,.265,1.55)}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}to{transform:scale(1)}}.win-title[_ngcontent-%COMP%]{font-size:48px;font-weight:700;margin-bottom:15px;color:#ffc62f;text-shadow:0 0 30px rgba(255,198,47,1);animation:_ngcontent-%COMP%_titlePulse 1s infinite}@keyframes _ngcontent-%COMP%_titlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.win-amount[_ngcontent-%COMP%]{font-size:64px;font-weight:700;color:#fff;text-shadow:0 0 40px #FFC62F;margin-bottom:20px}.win-details[_ngcontent-%COMP%]{background:#4f268380;padding:20px;border-radius:10px;margin-top:20px}.win-line[_ngcontent-%COMP%]{color:#ffc62f;font-size:18px;margin:8px 0;font-weight:700}"]})};export{N as SlotsComponent};
